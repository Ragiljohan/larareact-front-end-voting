{"ast":null,"code":"var _jsxFileName = \"/home/fikrisuheri/Documents/Pemrograman/ReactJS/Studi Kasus/E-Voting/reactvoting/src/pages/Voting/index.jsx\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport Loading from './Loading';\nimport ListKandidat from './ListKandidat';\nimport Axios from 'axios';\nimport { URL_API, BASE_URL } from '../../utils/api';\nimport Aos from 'aos';\nimport Swal from 'sweetalert2';\nexport default class index extends Component {\n  constructor(props) {\n    super(props);\n\n    this._cekLogin = () => {\n      const token = this.state.token;\n\n      if (token === '' || token === null) {\n        this.props.history.push('/');\n      }\n    };\n\n    this._getKandidat = async () => {\n      try {\n        const response = await Axios.get(URL_API + 'kandidat');\n        this.setState({\n          kandidat: response.data.results,\n          isLoading: false\n        });\n      } catch (error) {}\n    };\n\n    this._confirmPilihan = (kandidat_id, name) => {\n      Swal.fire({\n        title: 'Yakin Memilih ' + name,\n        text: \"Suara yang anda pilih dijamin kerahasiaannya !\",\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Ya, Pilih ' + name + ' !',\n        cancelButtonText: 'Batalkan !'\n      }).then(result => {\n        if (result.value) {\n          this._postPilihan(kandidat_id);\n        }\n      });\n    };\n\n    this._postPilihan = async kandidat_id => {\n      try {\n        const data = {\n          'token': localStorage.getItem('token'),\n          'kandidat_id': kandidat_id\n        };\n        const response = await Axios.post(URL_API + 'voting', data);\n\n        if (response.data.status == 'success') {\n          localStorage.removeItem('token');\n          this.props.history.go('/');\n        }\n      } catch (error) {}\n    };\n\n    this._showVisiMisi = (name, avatar, visi, misi) => {\n      return Swal.fire({\n        title: name,\n        html: visi + misi,\n        imageUrl: BASE_URL + '/storage/' + avatar,\n        imageWidth: 200,\n        imageHeight: 200,\n        imageAlt: 'Custom image'\n      });\n    };\n\n    this.state = {\n      token: localStorage.getItem('token'),\n      kandidat: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    this._cekLogin();\n\n    this._getKandidat();\n\n    Aos.init({\n      once: true,\n      easing: 'slide'\n    });\n  }\n\n  render() {\n    const state = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title\",\n      \"data-aos\": \"zoom-in\",\n      \"data-aos-duration\": \"700\",\n      \"data-aos-delay\": \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, \"Daftar Kandidat Evoting\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, state.isLoading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    })) : state.kandidat.map((item, i) => /*#__PURE__*/React.createElement(ListKandidat, {\n      name: item.name,\n      avatar: item.avatar,\n      onClick: () => this._confirmPilihan(item.id, item.name),\n      onClickVisi: () => this._showVisiMisi(item.name, item.avatar, item.visi, item.misi),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/home/fikrisuheri/Documents/Pemrograman/ReactJS/Studi Kasus/E-Voting/reactvoting/src/pages/Voting/index.jsx"],"names":["React","Component","Loading","ListKandidat","Axios","URL_API","BASE_URL","Aos","Swal","index","constructor","props","_cekLogin","token","state","history","push","_getKandidat","response","get","setState","kandidat","data","results","isLoading","error","_confirmPilihan","kandidat_id","name","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","value","_postPilihan","localStorage","getItem","post","status","removeItem","go","_showVisiMisi","avatar","visi","misi","html","imageUrl","imageWidth","imageHeight","imageAlt","componentDidMount","init","once","easing","render","map","item","i","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './index.css';\nimport Loading from './Loading'\nimport ListKandidat from './ListKandidat'\nimport Axios from 'axios';\nimport { URL_API, BASE_URL } from '../../utils/api'\nimport Aos from 'aos'\nimport Swal from 'sweetalert2'\n\nexport default class index extends Component {\n\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            token: localStorage.getItem('token'),\n            kandidat: [],\n            isLoading: true\n        }\n    }\n\n    _cekLogin = () => {\n        const token = this.state.token;\n\n        if (token === '' || token === null) {\n            this.props.history.push('/')\n        }\n    }\n\n    _getKandidat = async () => {\n        try {\n            const response = await Axios.get(URL_API + 'kandidat')\n            this.setState({\n                kandidat: response.data.results,\n                isLoading: false\n            })\n        } catch (error) {\n\n        }\n    }\n\n    componentDidMount() {\n        this._cekLogin()\n        this._getKandidat()\n        Aos.init({\n            once: true,\n            easing: 'slide',\n        });\n    }\n\n    _confirmPilihan = (kandidat_id, name) => {\n        Swal.fire({\n            title: 'Yakin Memilih ' + name,\n            text: \"Suara yang anda pilih dijamin kerahasiaannya !\",\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Ya, Pilih ' + name + ' !',\n            cancelButtonText: 'Batalkan !',\n        }).then((result) => {\n            if (result.value) {\n                this._postPilihan(kandidat_id)\n            }\n        })\n    }\n\n    _postPilihan = async (kandidat_id) => {\n        try {\n\n            const data = {\n                'token': localStorage.getItem('token'),\n                'kandidat_id': kandidat_id\n            }\n            const response = await Axios.post(URL_API + 'voting', data)\n            if (response.data.status == 'success') {\n                localStorage.removeItem('token')\n                this.props.history.go('/')\n            }\n        } catch (error) {\n\n        }\n    }\n\n    _showVisiMisi = (name, avatar, visi, misi) => {\n        return (\n            Swal.fire({\n                title: name,\n                html:\n                    visi + misi,\n                imageUrl: BASE_URL + '/storage/' + avatar,\n                imageWidth: 200,\n                imageHeight: 200,\n                imageAlt: 'Custom image',\n            })\n        )\n    }\n\n    render() {\n        const state = this.state;\n        return (\n            <div>\n                <div className=\"container text-center mt-4\">\n                    <h3 className=\"title\" data-aos=\"zoom-in\" data-aos-duration=\"700\" data-aos-delay=\"50\">Daftar Kandidat Evoting</h3>\n                    <div className=\"row mt-4\">\n                        {\n                            state.isLoading\n                                ?\n                                <>\n                                    <Loading />\n                                    <Loading />\n                                    <Loading />\n                                    <Loading />\n                                </>\n                                :\n                                state.kandidat.map((item, i) => (\n                                    <ListKandidat\n                                        name={item.name}\n                                        avatar={item.avatar}\n                                        onClick={() => this._confirmPilihan(item.id, item.name)}\n                                        onClickVisi={() => this._showVisiMisi(item.name, item.avatar, item.visi, item.misi)} />\n                                ))\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}