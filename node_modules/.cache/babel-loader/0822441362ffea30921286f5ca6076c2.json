{"ast":null,"code":"var _jsxFileName = \"/home/fikrisuheri/Documents/Pemrograman/ReactJS/Studi Kasus/E-Voting/reactvoting/src/pages/Home/HeaderComp.jsx\";\nimport React, { Component } from 'react';\nimport { imgVote } from '../../asset';\nimport Aos from 'aos';\nimport './index.css';\nimport { URL_API } from '../../utils/api';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nclass HeaderComp extends Component {\n  constructor(props) {\n    super(props);\n\n    this._handleFormChange = event => {\n      let formData = { ...this.state.form\n      };\n      formData[event.target.name] = event.target.value;\n      this.setState({\n        form: formData\n      });\n    };\n\n    this._handleFormSubmit = () => {\n      const state = this.state;\n\n      if (state.form.token == '') {\n        this.setState({\n          messageErr: 'Harap masukan token'\n        });\n      } else {\n        this._authLogin();\n      }\n    };\n\n    this._authLogin = async () => {\n      try {\n        const response = await axios.post(URL_API + 'login', this.state.form);\n        const data = response.data;\n\n        if (data.status == 'success') {\n          console.log(data);\n          localStorage.setItem('token', data.results.token);\n          this.props.history.push('/voting');\n        } else {\n          this.setState({\n            messageErr: data.message\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.state = {\n      form: {\n        token: ''\n      },\n      messageErr: '',\n      redirect: '/voting'\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    Aos.init({\n      once: true,\n      easing: 'slide'\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      \"data-aos\": \"zoom-in\",\n      \"data-aos-duration\": \"700\",\n      \"data-aos-delay\": \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 pt-5 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"evoting app\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"subtitle mt-1 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Selamat datang di aplikasi evoting silahkan login untuk memilih\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"token\",\n      onChange: this._handleFormChange,\n      id: \"\",\n      className: \"form-control\",\n      placeholder: \"Masukan token disini\",\n      value: this.state.form.token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, this.state.messageErr)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary mr-2\",\n      onClick: this._handleFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, \"Masuk\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 pt-5 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: imgVote,\n      alt: \"\",\n      className: \"img-fluid\",\n      \"data-aos\": \"zoom-in\",\n      \"data-aos-duration\": \"700\",\n      \"data-aos-delay\": \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default withRouter(HeaderComp);","map":{"version":3,"sources":["/home/fikrisuheri/Documents/Pemrograman/ReactJS/Studi Kasus/E-Voting/reactvoting/src/pages/Home/HeaderComp.jsx"],"names":["React","Component","imgVote","Aos","URL_API","axios","Redirect","withRouter","HeaderComp","constructor","props","_handleFormChange","event","formData","state","form","target","name","value","setState","_handleFormSubmit","token","messageErr","_authLogin","response","post","data","status","console","log","localStorage","setItem","results","history","push","message","error","redirect","componentDidMount","init","once","easing","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { imgVote } from '../../asset';\nimport Aos from 'aos';\nimport './index.css';\nimport { URL_API } from '../../utils/api';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nclass HeaderComp extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            form: {\n                token: ''\n            },\n            messageErr: '',\n            redirect: '/voting'\n        }\n    }\n\n    _handleFormChange = (event) => {\n        let formData = { ...this.state.form }\n        formData[event.target.name] = event.target.value;\n        this.setState({\n            form: formData\n        })\n    }\n\n    _handleFormSubmit = () => {\n        const state = this.state;\n        if (state.form.token == '') {\n            this.setState({\n                messageErr: 'Harap masukan token'\n            })\n        } else {\n            this._authLogin();\n        }\n    }\n\n    _authLogin = async () => {\n        try {\n            const response = await axios.post(URL_API + 'login', this.state.form);\n            const data = response.data;\n            if (data.status == 'success') {\n                console.log(data)\n                    localStorage.setItem('token',data.results.token);\n                   this.props.history.push('/voting')\n            } else {\n                this.setState({\n                    messageErr: data.message\n                })\n            }\n\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.props);\n        Aos.init({\n            once: true,\n            easing: 'slide',\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row\" data-aos=\"zoom-in\" data-aos-duration=\"700\" data-aos-delay=\"50\">\n                    <div className=\"col-md-6 pt-5 mt-2\" >\n                        <span className=\"title\" >\n                            evoting app\n                        </span>\n                        <br />\n                        <span className=\"subtitle mt-1 mb-2\">\n                            Selamat datang di aplikasi evoting silahkan login untuk memilih\n                        </span>\n                        <div className=\"row mt-3\">\n                            <div className=\"col\">\n                                <input type=\"text\" name=\"token\" onChange={this._handleFormChange} id=\"\" className=\"form-control\" placeholder=\"Masukan token disini\" value={this.state.form.token} />\n                                <small className=\"text-danger\">{this.state.messageErr}</small>\n                            </div>\n                            <div>\n                                <button className=\"btn btn-primary mr-2\" onClick={this._handleFormSubmit}>Masuk</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-md-6 pt-5 text-center\">\n                        <img src={imgVote} alt=\"\" className=\"img-fluid\" data-aos=\"zoom-in\" data-aos-duration=\"700\" data-aos-delay=\"50\" />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(HeaderComp)"]},"metadata":{},"sourceType":"module"}